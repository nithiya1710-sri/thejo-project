<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto OTDR</title>
    <link rel="icon" href="https://media.licdn.com/dms/image/v2/C510BAQE0Bl7hf7aScw/company-logo_200_200/company-logo_200_200/0/1630600313094?e=2147483647&v=beta&t=FZ8EuFLC6bjx0ri55MlDLMQKr-rrqm0hhXqXo1mHjt0" type="image/x-icon" />

    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    
    <h1 class="page-title">Auto OTDR</h1>

    <div class="container">
        <div class="graph-area">
            <div class="auto-test-header" id="autoTestHeader">Auto Test 1550nm 500m 3ns</div>
            
            <div class="graph-section">
                <canvas id="graphCanvas"></canvas>
            </div>
            <div class="graph-header">
                <div class="arrow-group">
                    <button class="arrow-btn" id="prev-wavelength" onclick="changeWavelength(-1)">&#9664;</button>
                    <span class="test-param" id="wavelength">1550nm</span>
                    <button class="arrow-btn" id="next-wavelength" onclick="changeWavelength(1)">&#9654;</button>
                    <button class="arrow-btn" id="prev-distance" onclick="changeDistance(-1)">&#9664;</button>
                    <span class="test-param" id="distance">500m</span>
                    <button class="arrow-btn" id="next-distance" onclick="changeDistance(1)">&#9654;</button>
                </div>
                <div id="progress-container" class="hidden">
                    <img id="danger-icon" src="danger.png" alt="Danger" class="danger-icon">
    
                    <p id="progress-text">Initializing... 5s</p>
                    <div class="progress-bar">
                        <div id="progress-fill"></div>
                    </div>
                </div>

                
                <div class="button-group">
                    <button class="header-btn">Auto Test</button>
                    
                </div>
                

            </div>
        </div>

        <div class="right-sidebar">
            <button class="sidebar-button" onclick="window.location.href='auto-otdr.html'">Test</button>
            <button onclick="testSettings()" class="sidebar-button">Settings</button>
            <button onclick="window.location.href='Event-map-3.html'" class="sidebar-button" >Event Map</button>
            <button class="sidebar-button">Files</button>
            <button class="sidebar-button">Save</button>
            <button class="sidebar-button" onclick="window.location.href='home.html'">Exit</button>
        </div>
    </div>

    <!-- Bottom Buttons Section -->
    <div class="bottom-buttons">
        <button class="bottom-btn"><i class="fas fa-chart-line"></i> Curve</button>
        <button class="bottom-btn"><i class="fas fa-list"></i> List</button>
        <button onclick="event()" class="bottom-btn" ><i class="fas fa-map"></i> Event Map</button>
        <button class="bottom-btn"><i class="fas fa-save"></i> Fast Save</button>
        <button onclick="testSettings()" class="bottom-btn settings-btn" ><i class="fas fa-cog"></i> Settings</button>
    </div>

    <script src="script.js"></script>
    <script>
        
    
      function testSettings() {
        window.location.href = "setindex.html";
      }
      function event() {
        window.location.href = "Event-map-3.html";
      }
    
      function passCriterion() {
        window.location.href = "passindex.html";
      }
    
      function analysisThreshold() {
        window.location.href = "thresh.html";
      }
    
     
    
      function exitSystem() {
        window.location.href = 'home.html';

      }</script>
 <script src="system.js"></script>
    <script>
  // 🔆 Brightness Control
  const brightnessLevels = {
    '0%': 0, '20%': 0.2, '40%': 0.4, '60%': 0.6, '80%': 0.8, '100%': 1
  };
  const savedBrightness = localStorage.getItem('brightness') || '100%';
  document.body.style.filter = `brightness(${brightnessLevels[savedBrightness] || 1})`;

  // 🌐 Language Translations
  const lang = localStorage.getItem("language") || "en";
  const translations = {
    en: {
      title: "Auto OTDR",
      test: "Test",
      settings: "Settings",
      eventMap: "Event Map",
      files: "Files",
      save: "Save",
      exit: "Exit",
      curve: "Curve",
      list: "List",
      fastSave: "Fast Save"
    },
    fr: {
      title: "OTDR Auto",
      test: "Tester",
      settings: "Paramètres",
      eventMap: "Carte d'événement",
      files: "Fichiers",
      save: "Enregistrer",
      exit: "Quitter",
      curve: "Courbe",
      list: "Liste",
      fastSave: "Sauvegarde rapide"
    },
    es: {
      title: "OTDR Automático",
      test: "Prueba",
      settings: "Configuración",
      eventMap: "Mapa de eventos",
      files: "Archivos",
      save: "Guardar",
      exit: "Salir",
      curve: "Curva",
      list: "Lista",
      fastSave: "Guardado rápido"
    },
    de: {
      title: "Auto OTDR",
      test: "Test",
      settings: "Einstellungen",
      eventMap: "Ereigniskarte",
      files: "Dateien",
      save: "Speichern",
      exit: "Beenden",
      curve: "Kurve",
      list: "Liste",
      fastSave: "Schnellspeichern"
    }
  };
  const t = translations[lang] || translations.en;

  // 🌍 Apply Translations
  document.addEventListener("DOMContentLoaded", () => {
    // Page title
    document.title = t.title;
    document.querySelector(".page-title").innerText = t.title;

    // Sidebar buttons
    const sidebarLabels = [t.test, t.settings, t.eventMap, t.files, t.save, t.exit];
    document.querySelectorAll(".right-sidebar .sidebar-button").forEach((btn, i) => {
      if (sidebarLabels[i]) btn.textContent = sidebarLabels[i];
    });

    // Bottom buttons
    const bottomLabels = [t.curve, t.list, t.eventMap, t.fastSave, t.settings];
    document.querySelectorAll(".bottom-buttons .bottom-btn").forEach((btn, i) => {
      if (bottomLabels[i]) {
        const icon = btn.querySelector("i").outerHTML;
        btn.innerHTML = `${icon} ${bottomLabels[i]}`;
      }
    });
  });
</script>

</body>
</html>
